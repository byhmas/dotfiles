# $Id$

set alias_file=~/Mail/mutt.addressbook
# File to search for aliases in
source  ~/Mail/mutt.addressbook

set ssl_starttls=yes
set certificate_file=~/Mail/certificates
set imap_force_ssl=yes

set spoolfile={hendry@mail.cs.helsinki.fi/ssl}INBOX
set folder={hendry@mail.cs.helsinki.fi/ssl}

# mailboxes I like to hear about when there is new mail
mailboxes {hendry@daidalos.pannuhuone.org/ssl}
mailboxes {hendry@mail.cs.helsinki.fi/ssl}INBOX
mailboxes imaps://hendry@daidalos.pannuhuone.org/prazefarm
mailboxes imaps://hendry@daidalos.pannuhuone.org/rss
mailboxes {hendry@mail.cs.helsinki.fi/ssl}INBOX.w3-di

set realname="Kai Hendry"
set from="hendry@cs.helsinki.fi"
set hostname="cs.helsinki.fi"
alternates hendry\@(iki.fi|cs.helsinki.fi|natalian.org)

set beep_new                    # beep if new mail comes in
set editor="vim '+set tw=72'"
set ispell="aspell -e -c"

set charset="utf-8"

set mbox=imaps://hendry@mail.cs.helsinki.fi/"INBOX.inbox.`date +%Y.%m-%b`" #Archive inbox mail
set postponed=imaps://hendry@mail.cs.helsinki.fi/INBOX.postponed  # location of postponed messages
set record=imaps://hendry@mail.cs.helsinki.fi/"INBOX.Sent.`date +%Y.%m-%b`" #Archive send mail

color status 	white 		blue
color index 	brightwhite	black   ~N

# Some of these contain special ppl :)
source ~/Mail/mutt.colours

set ascii_chars		# So the threading arrows show up properly	       
set sort=threads    # Sort by threads
set menu_scroll		# scroll on last line of menu 
unset suspend
set smart_wrap
set wrap_search
set abort_unmodified=no

# this is cool, dual text/html mails have only the text part shown
alternative_order text/plain   # I like plaintext more than html.
auto_view text/html

# When viewing next page of info, retain last line of previous page
set pager_context=5

# Works a bit like a "preview" screen; 
# you can see the pager and 5 lines of the index at the same time
set pager_index_lines=5

set pgp_replysign     # always sign reply to signed message
set pgp_replyencrypt  # always encrypt reply to encrypted message

macro index S "<tag-prefix><save-message>imaps://hendry@daidalos.pannuhuone.org/spam\n"
macro pager S "<tag-prefix><save-message>imaps://hendry@daidalos.pannuhuone.org/spam\n"

hdr_order From From: To: Cc: Subject: Date: X-Note: X-Mailer: User-Agent: \
          X-MimeOLE: Content-Type:
unignore *
ignore "from " received mime-version status x-status 
ignore sender references return-path lines precedence content-length
ignore priority x-priority x-auth
ignore X-eGroups-Return X-Mailing-List List-Help List-Unsubscribe List-Archive
ignore X-Sieve
ignore Message-Id
ignore Envelope-to
ignore Content-Type
ignore content-transfer-encoding content-disposition
ignore In-reply-to
ignore x-originalarrivaltime
ignore x-bogosity
ignore x-spam-status
ignore x-spam-level
ignore x-mailer user-agent

#set autoedit           # start editor without asking for to, subject,...
set auto_tag           # if something is tagged, run commands on tagged msgs.
set fast_reply         # do not ask for to, subject,... when replying

set index_format="%4C %Z %[!%d/%m] %-17.17F (%3l) %s"
set pager_format="%S [%C] %n (%l) %s"
set folder_format="%F %d %8s %N %f"
set print_command="enscript -2r -o /tmp/email.ps -Email"

# Need this if using cygwin(win32)
#set sendmail = "/usr/sbin/ssmtp.exe"

send-hook   . 'my_hdr From: Kai Hendry <hendry@cs.helsinki.fi>' 
#send-hook   '~C hkkk' 'my_hdr From: Kai Hendry <k75930@ky.hkkk.fi>'
message-hook "~h multipart" "set mime_forward=ask-yes"
send-hook '~C list@dclug.org.uk' 'my_hdr From: Kai Hendry <hendry@prazefarm.co.uk>'

set reverse_name
unset reverse_realname

bind attach S save-entry
macro attach s S^A~/Mail/mail-attachments/

#more powerful editing :)
#set edit_headers
